<h2>New Post</h2>

<%= form_with model: @post do |f| %>
  <div>
    <% if @post.errors.any? %>
      <h2>There are <%= pluralize(@post.errors.count, "error")%> stopping you!</h2>
      <% @post.errors.full_messages.each do |msg| %>
        <div><%= msg %></div>
      <% end %><br>
    <% end%>
  </div>
  <div class="field">
    <%= f.label :body %><br />
    <%= f.text_area :body, autofocus: true %>
  </div>
  
  <div class="field">
    <%= f.label :image %><br />
    <%= f.file_field :image %>
  </div>

  <div class="actions">
    <%= f.submit "Post" %>
  </div>
<% end %>
